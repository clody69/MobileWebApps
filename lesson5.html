<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]> ><! <![endif]-->
<html class='no-js' lang='en'>
<!-- <![endif] -->
<head>
<meta charset='utf-8' />
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible' />
<title>
Mobile Web Appplications Development with HTML5
|
Aalto University March 2012
</title>
<meta content='A course on developing mobile web applications with HTML5' name='description' />
<meta content='Claudio Riva' name='author' />
<meta content='width=1024, user-scalable=no' name='viewport' />
<!-- Coloring for code. To be included before the custom css like course and screen -->
<link href='css/coderay.css' rel='stylesheet' />
<!-- Core and extension CSS files -->
<link href='deckjs/core/deck.core.css' rel='stylesheet' />
<link href='deckjs/extensions/goto/deck.goto.css' rel='stylesheet' />
<link href='deckjs/extensions/menu/deck.menu.css' rel='stylesheet' />
<link href='deckjs/extensions/navigation/deck.navigation.css' rel='stylesheet' />
<link href='deckjs/extensions/status/deck.status.css' rel='stylesheet' />
<link href='deckjs/extensions/hash/deck.hash.css' rel='stylesheet' />
<!-- /%link(href="deckjs/extensions/scale/deck.scale.css" rel="stylesheet") -->
<!-- / %link(href="deckjs/extensions/notes/deck.notes.css" rel="stylesheet") -->
<!-- Theme CSS files (menu swaps these out) -->
<link href='css/course.css' id='style-theme-link' rel='stylesheet' />
<link href='deckjs/themes/transition/horizontal-slide.css' id='transition-theme-link' rel='stylesheet' />
<link href='css/screen.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
<script src='js/jquery.min.js'></script>
<!-- Custom CSS just for this page -->
<script src='js/modernizr.custom.js'></script>
<script type='text/javascript'>
  //<![CDATA[
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29188416-1']);
    _gaq.push(['_trackPageview']);
    
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  //]]>
</script>
</head>
<body>
<div id='background'>
<div class='background front active' id='bg-default'></div>
<div class='background back' id='bg-default'></div>
</div>
<article class='deck-container'>
<section class='slide main-title'>
<h1>
Mobile Web Appplications Development with HTML5
</h1>
<img src='imgs/HTML5_logo.png' />
<br />
<h1 class='subtitle'>
Lecture 3: CSS3
</h1>
<br />
<div class='smaller centered'>
<h3>
Claudio Riva
</h3>
<h3>
Aalto University March 2012
</h3>
</div>
</section>

<section class='slide section-title'>
<h1>Lecture 4: CSS3</h1>
<div class='agenda'>
<p>Media Queries</p>
<p>Overflow: scroll</p>
<p>Position: fixed</p>
<p>Orientation changes</p>
<p>Selectors</p>
<p>Borders and Box Effects</p>
<p>Color and Opacity</p>
<p>Gradients</p>
<p>2D Transitions</p>
<p>Transitions and Animations</p>
<p>3D Transformations</p>
<p>Flexible Box Layout</p>
<p>Touch events</p>
http://www.html5rocks.com/en/mobile/touch/
</div>
</section>
<section class='slide'>
<header>Device Screen Width</header>
<article>
<div class='row'>
<div class='twoThirds'>
<div class='image-wrap'><a href='http://deviceatlas.com/resourcecentre/explore+deviceatlas+data/data+explorer#_/properties/19/20/hac'><img src='imgs/lesson5/atlas_screen_width.png' /></a></div>
</div>
<div class='threeColumn'>
<div class='autobox'>
<p>240px (28%)</p>
<p>128px (23%)</p>
<p>176px (13%)</p>
<p>480px (7%)</p>
</div>
</div>
</div>
</article>
</section>
<section class='slide'>
<header>Device Screen Height</header>
<article></article>
<div class='row'>
<div class='twoThirds'>
<div class='image-wrap'><a href='http://deviceatlas.com/resourcecentre/explore+deviceatlas+data/data+explorer#_/properties/19/21/hac'><img src='imgs/lesson5/atlas_screen_height.png' /></a></div>
</div>
<div class='threeColumn'>
<div class='autobox'>
<p>320px (23%)</p>
<p>160px (15.5%)</p>
<p>220px (12.4%)</p>
<p>128px (7.6%)</p>
</div>
</div>
</div>
</section>
<section class='slide'>
<header>Device Screen Height over Time</header>
<article></article>
<div class='row'>
<div class='twoThirds'>
<div class='image-wrap'><a href='http://deviceatlas.com/resourcecentre/explore+deviceatlas+data/data+explorer#_/compare/16/1136968/19/20'><img src='imgs/lesson5/atlas_screen_width_year.png' /></a></div>
</div>
<div class='threeColumn'>
<div class='autobox'>
<p>
<strong class='red'>2012</strong>
:  176,
<strong>240</strong>
, 320, 360,
<strong>480</strong>
,
<strong>540</strong>
, 600, 640,
<strong>720</strong>
, 768, 780, 800, 1024, 1280, 1920
</p>
<p>
<strong class='red'>2011</strong>
:  120, 128, 160, 176, 220,
<strong>240</strong>
,
<strong>320</strong>
, 360, 400,
<strong>480</strong>
, 540, 600, 640, 720, 768, 800, 840, 960, 1024, 1240, 1280
</p>
</div>
</div>
</div>
</section>
<section class='slide'>
<header>Screen Resolution Market Share</header>
<article>
<div class='image-wrap'><a href='http://netmarketshare.com/report.aspx?qprid=17'><img src='imgs/lesson5/screen-resolution.png' /></a></div>
</article>
</section>
<section class='slide'>
<header>
What is the Viewport ?
</header>
<article>
<div class='row'>
<div class='twoColumn'>
<div class='autobox'>
What is the Viewport ?
<ul>
<li>The available area for rendering a web page</li>
<li>Not necessarily equal to the visible area on the device</li>
<li>User can zoom and pan within the viewport</li>
<li>
Default viewport width:
<ul>
<li>980px on iPhone</li>
<li>850px on Opera</li>
<li>800px on Android</li>
</ul>
</li>
</ul>
</div>
</div>
<div class='twoColumn'>
<div class='image-wrap'><img src='imgs/lesson5/mobile_layoutviewport.jpg' class='resize' /></div>
</div>
</div>
</article>
</section>
<section class='slide'>
<header>
Viewport Meta Tag
</header>
<article>
<div class='row'>
<div class='twoColumn'>
<div class='autoimage bordered'>
<div class='image-wrap'><img src='imgs/lesson2/firstapp-no-viewport.png' /></div>
</div>
</div>
<div class='twoColumn'>
<div class='autoimage bordered'>
<div class='image-wrap'><img src='imgs/lesson2/firstapp-viewport.png' /></div>
</div>
</div>
</div>
<div class='row'>
<div class="CodeRay">
  <div class="code"><pre><span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">viewport</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">width=device-width; user-scalable=0;</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>        &#x000A;</pre></div>
</div>
</div>
</article>
</section>
<section class='slide'>
<header>
<img src = 'imgs/html5/HTML5_Styling_64.png'>Media Queries</img>
</header>
<article>
<p>Query syntax for serving the most appropriate styles based on the device characteristics</p>
Enables us:
<ul>
<li>to create device-independent websites</li>
<li>to optimize the visitor's experience</li>
<li>to avoid multiple sites per device</li>
<li>to server the mobile optimized versions (i.e. smaller images)</li>
</ul>
<a href='http://www.alistapart.com/articles/responsive-web-design/'>Responsive Web Design</a>
<ul>
<li>
<a href='http://2010.dconstruct.org'>An example</a>
</li>
<li>
<a href='http://www.mediaqueri.es'>Other examples</a>
</li>
</ul>
</article>
</section>
<section class='slide'>
<header>
Use responsive design carefully
</header>
<article>
Layout of the page is important but building a mobile web site (app) includes also:
<ul>
<li>Optimizing performance</li>
<li>Avoiding heavy JS libraries</li>
<li>Reducing latency</li>
<li>Reducing loading time</li>
<li>Task-oriented UI</li>
</ul>
</article>
</section>
<section class='slide'>
<header>Media Queries Syntax</header>
<article>
<ul>
<li>
Link external stylesheet
<div class="CodeRay">
  <div class="code"><pre><span class="tag">&lt;link</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">file.css</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">stylesheet</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">media</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;logic</span></span><span class="error">&gt;</span> <span class="tag">&lt;media&gt;</span> and ( <span class="tag">&lt;expression&gt;</span>)&quot;<span class="error">&gt;</span></pre></div>
</div>
</li>
<li>
Import external stylesheet
<div class="CodeRay">
  <div class="code"><pre><span class="directive">@media</span> <span class="type">url</span>(<span class="string"><span class="delimiter">'</span><span class="content">file.css</span><span class="delimiter">'</span></span>) <span class="error">l</span><span class="error">o</span><span class="error">g</span><span class="error">i</span><span class="error">c</span> <span class="error">&lt;</span><span class="error">m</span><span class="error">e</span><span class="error">d</span><span class="error">i</span><span class="error">a</span>&gt; <span class="error">a</span><span class="error">n</span><span class="error">d</span> ( <span class="error">&lt;</span><span class="error">e</span><span class="error">x</span><span class="error">p</span><span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">s</span><span class="error">i</span><span class="error">o</span><span class="error">n</span>&gt; );</pre></div>
</div>
</li>
<li>
Embedded in a stylesheet
<div class="CodeRay">
  <div class="code"><pre><span class="directive">@media</span> <span class="error">&lt;</span><span class="type">logic</span>&gt; <span class="error">&lt;</span><span class="error">m</span><span class="error">e</span><span class="error">d</span><span class="error">i</span><span class="error">a</span>&gt; ( <span class="error">&lt;</span><span class="error">e</span><span class="error">x</span><span class="error">p</span><span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">s</span><span class="error">i</span><span class="error">o</span><span class="error">n</span>&gt; ) { <span class="error">&lt;</span><span class="type">rules</span>&gt; }</pre></div>
</div>
</li>
</ul>
<p>
<strong>Logic</strong>
: only | not
</p>
<p>
<strong>Media</strong>
: all | screen | projection | print ...
</p>
</article>
</section>
<section class='slide'>
<header>Viewport Width and Height</header>
<article>
<ul>
<li>
<strong>Width</strong>
: width of the browser viewport including the scroll bars
</li>
<li>
<strong>Height</strong>
: height of the browser viewport including the scroll bars
</li>
</ul>
<div class="CodeRay">
  <div class="code"><pre><span class="directive">@media</span> <span class="error">&lt;</span><span class="type">media</span>&gt; <span class="error">a</span><span class="error">n</span><span class="error">d</span> {<span class="type">width</span>: <span class="error">&lt;</span><span class="type">value</span>&gt;} { <span class="error">&lt;</span><span class="key">rules</span>&gt; }&#x000A;<span class="directive">@media</span> <span class="error">&lt;</span><span class="type">media</span>&gt; <span class="error">a</span><span class="error">n</span><span class="error">d</span> {<span class="type">min-width</span>: <span class="error">&lt;</span><span class="type">value</span>&gt;} { <span class="error">&lt;</span><span class="key">rules</span>&gt; }&#x000A;<span class="directive">@media</span> <span class="error">&lt;</span><span class="type">media</span>&gt; <span class="error">a</span><span class="error">n</span><span class="error">d</span> {<span class="type">max-width</span>: <span class="error">&lt;</span><span class="type">value</span>&gt;} { <span class="error">&lt;</span><span class="key">rules</span>&gt; }&#x000A;</pre></div>
</div>
</article>
</section>
<section class='slide'>
<header>
Viewport Media Query Example
<span class='smaller'>
<a href='cssMediaQueriesViewport.html'>cssMediaQueriesViewport</a>
</span>
</header>
<article></article>
<div class="CodeRay">
  <div class="code"><pre><span class="class">.container</span> {&#x000A;  <span class="key">width</span>: <span class="float">500px</span>;&#x000A;  }&#x000A;<span class="class">.container</span> <span class="type">div</span> {&#x000A;  <span class="key">float</span>: <span class="value">left</span>; &#x000A;  <span class="key">margin</span>: <span class="float">0</span> <span class="float">15px</span> <span class="float">0</span> <span class="float">0</span>;&#x000A;  <span class="key">width</span>: <span class="float">235px</span>;&#x000A;}&#x000A;<span class="directive">@media</span> <span class="type">all</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">i</span><span class="error">n</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span>: <span class="float">500px</span>) {&#x000A;  <span class="type">h1</span> {&#x000A;    <span class="key">background</span>: <span class="value">white</span> <span class="string"><span class="delimiter">url(</span><span class="content">'background.jpg'</span><span class="delimiter">)</span></span> <span class="value">no-repeat</span>;&#x000A;    <span class="key">color</span>: <span class="value">black</span>;&#x000A;    <span class="key">height</span>: <span class="float">250px</span>;&#x000A;    <span class="key">padding</span>: <span class="float">20px</span>;&#x000A;    <span class="key">font-size</span>: <span class="float">36px</span>;&#x000A;    <span class="key">margin</span>: <span class="float">0px</span>;&#x000A;  }&#x000A;}&#x000A;</pre></div>
</div>
</section>
<section class='slide'>
<header>Device Width and Height</header>
<article>
<div class='row'>
<div class='twoColumn'>
<div class='autobox'>
<ul>
<li>
<strong>Width</strong>
: width of the device screen (shorter side on iOS)
</li>
<li>
<strong>Height</strong>
: height of the device screen (longer side on iOS)
</li>
</ul>
<div class="CodeRay">
  <div class="code"><pre><span class="directive">@media</span> <span class="type">media</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> {<span class="type">device-width</span>: <span class="type">value</span>} &#x000A;  { <span class="key">rules</span> }&#x000A;<span class="directive">@media</span> <span class="type">media</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> {<span class="type">min-device-width</span>: <span class="type">value</span>} &#x000A;  { <span class="key">rules</span> }&#x000A;<span class="directive">@media</span> <span class="type">media</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> {<span class="type">max-device-width</span>: <span class="type">value</span>} &#x000A;  { <span class="key">rules</span> }</pre></div>
</div>
</div>
</div>
<div class='twoColumn'>
<div class='image-wrap'><img src='imgs/lesson5/mobile_mediaqueries.jpg' class='resize' /></div>
</div>
</div>
</article>
</section>
<section class='slide'>
<header>
Device Media Query Example
<span class='smaller'>
<a href='cssMediaQueriesDevice.html'>cssMediaQueriesDevice</a>
</span>
</header>
<article></article>
<div class="CodeRay">
  <div class="code"><pre><span class="class">.container</span> {&#x000A;  <span class="key">width</span>: <span class="float">500px</span>;&#x000A;  }&#x000A;<span class="class">.container</span> <span class="type">div</span> {&#x000A;  <span class="key">float</span>: <span class="value">left</span>; &#x000A;  <span class="key">margin</span>: <span class="float">0</span> <span class="float">15px</span> <span class="float">0</span> <span class="float">0</span>;&#x000A;  <span class="key">width</span>: <span class="float">235px</span>;&#x000A;}&#x000A;<span class="directive">@media</span> <span class="type">all</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">a</span><span class="error">x</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span>: <span class="float">320px</span>) {&#x000A;  <span class="class">.container</span> {&#x000A;    <span class="key">width</span>: <span class="value">auto</span>;&#x000A;  }&#x000A;  <span class="class">.container</span> <span class="type">div</span> {&#x000A;    <span class="key">float</span>: <span class="value">none</span>;&#x000A;    <span class="key">margin</span>: <span class="float">0</span>;&#x000A;    <span class="key">width</span>: <span class="value">auto</span>;&#x000A;  }&#x000A;}&#x000A;</pre></div>
</div>
</section>
<section class='slide'>
<header>Device Orientation</header>
<article></article>
</section>
<section class='slide'>
<header>Device Pixel Ratio</header>
<article>
<p>Devices with high pixel density (> 300dpi)</p>
<p>Provide high-def web images</p>
<div class='vmargin'>
<strong>device-pixel-ratio</strong>
: device pixels per CSS pixel.
</div>
<div class="CodeRay">
  <div class="code"><pre><span class="directive">@media</span> <span class="type">media</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> {<span class="type">device-pixel-ratio</span>: <span class="type">value</span>} &#x000A;  { <span class="key">rules</span> }&#x000A;<span class="directive">@media</span> <span class="type">media</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> {<span class="type">min-device-pixel-ratio</span>: <span class="type">value</span>} &#x000A;  { <span class="key">rules</span> }&#x000A;<span class="directive">@media</span> <span class="type">media</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> {<span class="type">max-device-pixel-ratio</span>: <span class="type">value</span>} &#x000A;  { <span class="key">rules</span> }&#x000A;</pre></div>
</div>
<div class="CodeRay">
  <div class="code"><pre><span class="tag">&lt;link</span> <span class="attribute-name">rel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">stylesheet</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">media</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">screen and min-device-pixel-ratio: 2</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">highres.css</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;</pre></div>
</div>
</article>
</section>
<section class='slide'>
<header>CSS for each device layout</header>
<article class='small'>
<div class="CodeRay">
  <div class="code"><pre><span class="comment">/* Smartphones (portrait and landscape) */</span>&#x000A;<span class="directive">@media</span> <span class="type">screen</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">i</span><span class="error">n</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">320px</span>) <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">a</span><span class="error">x</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">480px</span>) { ...  }&#x000A;&#x000A;<span class="comment">/* Smartphones (landscape) */</span>&#x000A;<span class="directive">@media</span> <span class="type">screen</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">i</span><span class="error">n</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">321px</span>) { ... }&#x000A;&#x000A;<span class="comment">/* Smartphones (portrait)  */</span>&#x000A;<span class="directive">@media</span> <span class="type">screen</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">a</span><span class="error">x</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">320px</span>) { ... }&#x000A;&#x000A;<span class="comment">/* iPads (portrait and landscape) */</span>&#x000A;<span class="directive">@media</span> <span class="type">screen</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">i</span><span class="error">n</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">768px</span>) <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">a</span><span class="error">x</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">1024px</span>) { ... }&#x000A;&#x000A;<span class="comment">/* iPads (landscape)  */</span>&#x000A;<span class="directive">@media</span> <span class="type">screen</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">i</span><span class="error">n</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">768px</span>) <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">a</span><span class="error">x</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">1024px</span>) <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">o</span><span class="error">r</span><span class="error">i</span><span class="error">e</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">t</span><span class="error">i</span><span class="error">o</span><span class="error">n</span> : <span class="error">l</span><span class="error">a</span><span class="error">n</span><span class="error">d</span><span class="error">s</span><span class="error">c</span><span class="error">a</span><span class="error">p</span><span class="error">e</span>) { ... }&#x000A;&#x000A;<span class="comment">/* iPads (portrait)  */</span>&#x000A;<span class="directive">@media</span> <span class="type">screen</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">i</span><span class="error">n</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">768px</span>) <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">a</span><span class="error">x</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">1024px</span>) <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">o</span><span class="error">r</span><span class="error">i</span><span class="error">e</span><span class="error">n</span><span class="error">t</span><span class="error">a</span><span class="error">t</span><span class="error">i</span><span class="error">o</span><span class="error">n</span> : <span class="error">p</span><span class="error">o</span><span class="error">r</span><span class="error">t</span><span class="error">r</span><span class="error">a</span><span class="error">i</span><span class="error">t</span>) { ... }&#x000A;&#x000A;<span class="comment">/* Desktops and laptops */</span>&#x000A;<span class="directive">@media</span> <span class="type">screen</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">i</span><span class="error">n</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">1224px</span>) { ... }&#x000A;&#x000A;<span class="comment">/* Large screens  */</span>&#x000A;<span class="directive">@media</span> <span class="type">screen</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">i</span><span class="error">n</span><span class="error">-</span><span class="error">w</span><span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">h</span> : <span class="float">1824px</span>) { ... }&#x000A;&#x000A;<span class="comment">/* iPhone 4 */</span> &#x000A;<span class="directive">@media</span> <span class="type">screen</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">-</span><span class="error">w</span><span class="error">e</span><span class="error">b</span><span class="error">k</span><span class="error">i</span><span class="error">t</span><span class="error">-</span><span class="error">m</span><span class="error">i</span><span class="error">n</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">p</span><span class="error">i</span><span class="error">x</span><span class="error">e</span><span class="error">l</span><span class="error">-</span><span class="error">r</span><span class="error">a</span><span class="error">t</span><span class="error">i</span><span class="error">o</span> : <span class="float">1</span><span class="float">.5</span>), <span class="error">s</span><span class="error">c</span><span class="error">r</span><span class="error">e</span><span class="error">e</span><span class="error">n</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> (<span class="error">m</span><span class="error">i</span><span class="error">n</span><span class="error">-</span><span class="error">d</span><span class="error">e</span><span class="error">v</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">-</span><span class="error">p</span><span class="error">i</span><span class="error">x</span><span class="error">e</span><span class="error">l</span><span class="error">-</span><span class="error">r</span><span class="error">a</span><span class="error">t</span><span class="error">i</span><span class="error">o</span> : <span class="float">1</span><span class="float">.5</span>) { ... }&#x000A;&#x000A;&#x000A;</pre></div>
</div>
</article>
</section>
<section class='slide'>
<header>Overflow: scroll</header>
<article></article>
</section>
<section class='slide'>
<header>
Position: fixed
<span class='smaller'>
<a href='cssPositionFixed.html'>cssPositionFixed</a>
</span>
</header>
<article>
<div class='row'>
<div class='twoColumn'>
<div class='autobox'>
<p>Block the position of an element</p>
<p>Used for creating headers and footers</p>
<p>Supported on iOS 5 and Android >2.2</p>
<div class="CodeRay">
  <div class="code"><pre>  <span class="constant">#fixed</span> {&#x000A;    <span class="key">top</span>: <span class="float">0</span>;&#x000A;    <span class="key">left</span>: <span class="float">0</span>;&#x000A;    <span class="key">width</span>: <span class="float">100%</span>;&#x000A;    <span class="key">position</span>: <span class="value">fixed</span>;&#x000A;    <span class="key">background-color</span>: <span class="value">yellow</span>;&#x000A;    <span class="key">text-align</span>: <span class="value">center</span>;&#x000A;  }</pre></div>
</div>
<div class="CodeRay">
  <div class="code"><pre>  <span class="tag">&lt;h1&gt;</span>Lorem Ipsum<span class="tag">&lt;/h1&gt;</span>&#x000A;&#x000A;  <span class="tag">&lt;div</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fixed</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Example of fixed element<span class="tag">&lt;/div&gt;</span>&#x000A;&#x000A;  ...</pre></div>
</div>
</div>
</div>
<div class='twoColumn'>
<div class='image-wrap'><img src='imgs/lesson5/positionfixed.png' class='resize' /></div>
</div>
</div>
</article>
</section>
<section class='slide'>
<header>
Overflow scroll
<span class='smaller'>
<a href='cssOverflowScroll.html'>cssOverflowScroll</a>
</span>
</header>
<article>
<div class='row'>
<div class='twoColumn'>
<div class='autobox'>
<div class='small'>
<p>
<span class='terminal'>
Overflow: scroll
</span>
defines how a box should be displayed with overflowing content
</p>
<p>
<span class='terminal'>
-webkit-overflow-scrolling: touch
</span>
enables native scrolling of an elemnent
</p>
<p>Supported on iOS 5</p>
</div>
<div class="CodeRay">
  <div class="code"><pre><span class="class">.scroll</span> {&#x000A;  <span class="key">height</span>: <span class="float">150px</span>;&#x000A;  <span class="key">overflow-y</span>: <span class="value">scroll</span>;&#x000A;  <span class="key">-webkit-overflow-scrolling</span>: <span class="value">touch</span>;&#x000A;  <span class="key">border-top</span>: <span class="float">1px</span> <span class="value">solid</span> <span class="value">black</span>;&#x000A;}</pre></div>
</div>
<div class="CodeRay">
  <div class="code"><pre><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">'</span><span class="content">scroll</span><span class="delimiter">'</span></span><span class="tag">&gt;</span>&#x000A;  <span class="tag">&lt;h2&gt;</span>Chapter 1<span class="tag">&lt;/h2&gt;</span>&#x000A;  <span class="tag">&lt;p&gt;</span>Lorem ipsum dolor...&#x000A;<span class="tag">&lt;/div&gt;</span>&#x000A;...  </pre></div>
</div>
</div>
</div>
<div class='twoColumn'>
<div class='image-wrap'><img src='imgs/lesson5/overflowscroll.png' class='resize' /></div>
</div>
</div>
</article>
</section>
<section class='slide'>
<header>
iScroll
</header>
<article></article>
</section>
<section class='slide'>
<header>
Handling Orientation Changes
</header>
<article></article>
</section>
<section class='slide'>
<header>
Touch Events
<span class='smaller'>
<a href='http://dvcs.w3.org/hg/webevents/raw-file/tip/touchevents.html'>W3C</a>
</span>
</header>
<article>
<p>Mobile browsers wait about 300ms between the first tap and firing the click event. The reason for waiting is to detect a double tap.</p>
<p>onclick events don't provide the best experience for touch devices</p>
Touch events:
<ul>
<li>
<strong class='red'>touchstart</strong>
: a finger is placed on a DOM element
</li>
<li>
<strong class='red'>touchmove</strong>
: a finger is moved around over a DOM element
</li>
<li>
<strong class='red'>touchend</strong>
: a finger is removed from a DOM element
</li>
</ul>
</article>
</section>
<section class='slide'>
<header>
Touches Lists
</header>
<article>
<p>Each touch event contains three lists of touches data:</p>
<ul>
<li>
<strong class='red'>touches</strong>
: a list of fingers that are currently on the screen
</li>
<li>
<strong class='red'>targetTouches</strong>
: a list of fingers on the current DOM element
</li>
<li>
<strong class='red'>changedTouches</strong>
: a list of fingers that are involved in the current event
</li>
</ul>
<div class="CodeRay">
  <div class="code"><pre><span class="predefined">$</span>(document).bind(<span class="string"><span class="delimiter">'</span><span class="content">touchmove</span><span class="delimiter">'</span></span>,<span class="keyword">function</span>(e){&#x000A;    e.preventDefault();&#x000A;    <span class="keyword">var</span> touch = e.originalEvent.changedTouches[<span class="integer">0</span>];&#x000A;    console.log(touch.pageX);&#x000A;}</pre></div>
</div>
</article>
</section>
<section class='slide'>
<header>
Touch Interface
</header>
<article>
<ul>
<li>
<strong class='red'>identifier</strong>
: a unique identifier of the finger in the touch session
</li>
<li>
<strong class='red'>clientX, clientY</strong>
: coordinates of point relative to the viewport, excluding scroll offset
</li>
<li>
<strong class='red'>pageX, pageY</strong>
: coordinates of point relative to the viewport, including scroll offset
</li>
<li>
<strong class='red'>screenX, screenY</strong>
: coordinates of point relative to the screen
</li>
<li>
<strong class='red'>target</strong>
: the DOM element that was the target of the touch (even if the finger has moved out from the element)
</li>
</ul>
</article>
</section>
<section class='slide'>
<header>
Example of Multi-touch App
<span class='smaller'>
<a href='canvasTouch.html'>canvasTouch</a>
</span>
</header>
<article>
<div class="CodeRay">
  <div class="code"><pre><span class="comment">//At first touch initialize a new entry in the fingers list</span>&#x000A;<span class="predefined">$</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#canvas</span><span class="delimiter">&quot;</span></span>).bind(<span class="string"><span class="delimiter">'</span><span class="content">touchstart</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(e) {&#x000A;  <span class="predefined">$</span>.each(e.originalEvent.changedTouches, <span class="keyword">function</span>(index, v) {&#x000A;    fingers[v.identifier] = {<span class="key">oldX</span>: v.pageX, <span class="key">oldY</span>: v.pageY, <span class="key">x</span>: v.pageX, <span class="key">y</span>: v.pageY};&#x000A;    fingers[v.identifier].color = colors[Math.floor(Math.random() * colors.length)];&#x000A;  });&#x000A;});&#x000A;<span class="comment">//Track the location of the fingers</span>&#x000A;<span class="predefined">$</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#canvas</span><span class="delimiter">&quot;</span></span>).bind(<span class="string"><span class="delimiter">'</span><span class="content">touchmove</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(e) {&#x000A;  e.preventDefault();&#x000A;  <span class="predefined">$</span>.each(e.originalEvent.changedTouches, <span class="keyword">function</span>(index, value) {&#x000A;    fingers[value.identifier].x = value.pageX;&#x000A;    fingers[value.identifier].y = value.pageY;&#x000A;  });&#x000A;});&#x000A;<span class="comment">//Remove the finger from the list</span>&#x000A;<span class="predefined">$</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#canvas</span><span class="delimiter">&quot;</span></span>).bind(<span class="string"><span class="delimiter">'</span><span class="content">touchend</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(e) {&#x000A;  <span class="predefined">$</span>.each(e.originalEvent.changedTouches, <span class="keyword">function</span>(index, value) {&#x000A;    <span class="keyword">delete</span> fingers[value.identifier];&#x000A;  });&#x000A;});  &#x000A;  </pre></div>
</div>
</article>
</section>
<section class='slide'>
<header>
Example of Multi-touch App
<span class='smaller'>
<a href='canvasTouch.html'>canvasTouch</a>
</span>
</header>
<article>
<div class="CodeRay">
  <div class="code"><pre><span class="comment">//Draw on the canvas every 15ms (about 60fps).</span>&#x000A;<span class="keyword">var</span> timer = setInterval(<span class="keyword">function</span>() {&#x000A;  <span class="predefined">$</span>.each(fingers, <span class="keyword">function</span>(index, value) {&#x000A;    <span class="keyword">if</span> (value.oldX != value.x || value.oldY != value.y ) {&#x000A;      ctx.beginPath();&#x000A;      ctx.moveTo(value.oldX, value.oldY);&#x000A;      ctx.lineWidth = <span class="integer">1</span>;&#x000A;      ctx.strokeStyle = value.color;&#x000A;      ctx.lineTo(value.x,value.y);&#x000A;      ctx.closePath();&#x000A;      ctx.stroke();&#x000A;      value.oldX = value.x;&#x000A;      value.oldY = value.y;&#x000A;    }&#x000A;  });&#x000A;}, <span class="integer">15</span>);&#x000A;</pre></div>
</div>
</article>
</section>
<section class='slide'>
<header>Best practices for touch events</header>
<article>
Disable zooming
<div class="CodeRay">
  <div class="code"><pre><span class="tag">%meta</span>(<span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">viewport</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">width=device-width, user-scalable=0, initial-scale=1.0, maximum-scale=1.0;</span><span class="delimiter">&quot;</span></span>)</pre></div>
</div>
Prevent scrolling
<div class="CodeRay">
  <div class="code"><pre><span class="predefined">$</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#canvas</span><span class="delimiter">&quot;</span></span>).bind(<span class="string"><span class="delimiter">'</span><span class="content">touchmove</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(e) {&#x000A;  e.preventDefault();&#x000A;  ...&#x000A;});</pre></div>
</div>
<p>
Asynchronously handle touch information (timer or
<a href='http://paulirish.com/2011/requestanimationframe-for-smart-animating/'>animation frame</a>
)
</p>
<p>Must listen both touch and click events</p>
<p>
jQuery Mobile provide
<a href='http://jquerymobile.com/test/docs/api/events.html'>virtual click events</a>
</p>
</article>
</section>
<section class='slide'>
<header>CSS Selectors</header>
<article>
A CSS selector consist of
<ul>
<li>
A
<strong class='red'>pattern</strong>
that is matched against all elements in the document tree
</li>
<li>
A
<strong class='red'>rule</strong>
that is applied to the elements that match
</li>
</ul>
Two main categories of selectors:
<ul>
<li>
<strong>DOM selectors</strong>
: class, id, type, attribute selectors
</li>
<li>
<strong>Pseudo-selectors</strong>
: first letter of a paragraph
</li>
</ul>
Versions
<ul>
<li>CSS1 introduced the first 5-6 selectors</li>
<li>CSS2 introduced 12 more selectors</li>
<li>CSS3 is adding a dozen more selectors</li>
</ul>
</article>
</section>
<section class='slide'>
<header></header>
<article></article>
</section>
<section class='slide'>
<header>Optimization for mobile html5</header>
<article>
http://www.html5rocks.com/en/mobile/optimization-and-performance/
</article>
</section>
<section class='slide'>
<header>
Fastclick
</header>
<article>
http://assanka.net/content/tech/2011/08/26/fastclick-native-like-tapping-for-touch-apps/
http://code.google.com/mobile/articles/fast_buttons.html
</article>
</section>
<section class='slide'>
<header>
Canvas
</header>
<article>
Tainiting the canvas: https://developer.mozilla.org/en/CORS_Enabled_Image
</article>
</section>
<section class='slide'>
<header>
SAS
</header>
<article>
Explain how to use SASS for the problem of the prefixes
</article>
</section>

<!-- Elements -->
<a class='deck-next-link' href='#' title='Next'>â†’</a>
<a class='deck-prev-link' href='#' title='Previous'>&#8592;</a>
<p class='deck-status'>
<span class='deck-status-current'></span>
/
<span class='deck-status-total'></span>
</p>
<a class='deck-permalink' href='.' title='Permalink to this slide'>#</a>
<script src='deckjs/core/deck.core.js'></script>
<script src='deckjs/extensions/menu/deck.menu.js'></script>
<script src='deckjs/extensions/goto/deck.goto.js'></script>
<script src='deckjs/extensions/status/deck.status.js'></script>
<script src='deckjs/extensions/navigation/deck.navigation.js'></script>
<script src='deckjs/extensions/hash/deck.hash.js'></script>
<!-- /%script(src="deckjs/extensions/scale/deck.scale.js") -->
<!-- /%script(src="deckjs/extensions/notes/deck.notes.js") -->
<script src='js/main.js'></script>
<script type='text/javascript'>
  //<![CDATA[
    $(document).bind('deck.change', function(event, from, to) {
     
      //alert('Moving from slide ' + from + ' to ' + to);
      var f = $.deck('getSlide', from).closest('section').prevAll('.background:first').attr("data-background");
      var t = $.deck('getSlide', to).closest('section').prevAll('.background:first').attr("data-background");
      if (t==undefined) { t = "bg-default"; }
      if (f==undefined) { f = "bg-default"; }
             
      
      var front = $('#background > .front').first();
      var back = $('#background > .back').first();
    
      if (front.hasClass('active')) {
        if (front.attr('id') == t) { return; }
    
        back.attr('id',t);
        front.removeClass('active');
        back.addClass('active');
        front.css('opacity',0);
      } else {
        if (back.attr('id') == t) { return; }
    
        front.attr('id',t);
        back.removeClass('active');
        front.addClass('active');
        front.css('opacity',1);
      }
      
      //last.attr('id',active.attr('id'));
      //last.css('opacity',1);
      //active.remove();
      //$("#background").append('<div class="background active" id="'+t+'" style="opacity: 0; "></div>')
      //$("#"+t).css('opacity',1);
      //var el = $("#"+t);
    
      //active.removeClass('active').addClass('last');
      //last.removeClass('last').addClass('active');
      
      //last.dequeue();
      //active.dequeue();
             
      //active.css('opacity',0);
      //alert(last.attr('id'));
      //active.fadeOut('slow');
      //last.fadeIn('slow', function() {
      //});
      
      //last.fadeIn('slow');
      //$("#"+t).css('opacity',1);
      //last.css('opacity',1);
      //el = $("#"+t);
      //el.animate({opacity: 1.0}, 1000);
    
      //if (t==undefined && f == undefined) {
      //} else if (t == f) {
      //}
      //else if (t != undefined) {
      //  $('#background').css("background-image", "url(" + t + ")").fadeIn('slow');
      //} else if (t == undefined) {
      //  $('#background').fadeOut('slow');
      //}
    });
      //current = $('body').css("background-image");
      //alert(current);
  //]]>
</script>
<!-- .slide-footer -->
<!-- =META['title'] -->
<!-- \- -->
<!-- =META['author'] -->
</article>
</body>
</html>
